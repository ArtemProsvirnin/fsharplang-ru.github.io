<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="./css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="./css/additional.css" />
    <link rel="stylesheet" href="./css/default.css">
    <script src="./js/highlight.pack.js"></script>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap.js"></script>
    <script type="text/javascript" src="./monaco/min/vs/loader.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid content-width">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Переключить навигацию</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">
            <img src="./img/min_logo.png" class="inline-block logo" />
            Русскоязычное сообщество F#
          </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                Сообщество <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="https://gitter.im/fsharplang_ru/Lobby" target="_blank">Gitter</a></li>
                <li><a href="https://t.me/fsharp_chat" target="_blank">Telegram</a></li>
              </ul>
            </li>
            <li><a href="http://fsharp.org/learn.html" target="_blank">Уроки</a></li>
            <li><a href="http://fsharp.org/" target="_blank">Разработка</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="front-bgr" style="background-image: url(img/mock.jpg);">
      <div class="jumbotron content-width container">
        <div class="light row">
          <div class="col-sm-7">
            <h1 class="shadowed">
              Функциональный кроссплатформенный язык программирования
            </h1>
            <p class="shadowed secondary-title">
              F# позволяет разработчикам решать сложные задачи с помощью простого и выразительного кода.
            </p>
            <p>
              <a class="btn btn-primary btn-lg">Узнать больше о F#</a>
            </p>
          </div>
          <div class="col-sm-5">
            <!-- pass place -->
          </div>
        </div>
      </div>
    </div>
    <div class="container content-width">
      <div class="floating-logo">
        <img src="img/min_logo.png" />
      </div>
    </div>
    <div>
      <div class="container content-width">
        <h1 class="margin-top margin-bottom">
          Как выглядит F#?
          <small>
            Самые простые примеры.
          </small>
        </h1>
        <ul class="nav nav-tabs">
          <li class="active"><a href="#simple-code" data-toggle="tab" aria-expanded="true">Простой и понятный код</a></li>
          <li class=""><a href="#concise-syntax" data-toggle="tab" aria-expanded="false">Лаконичный синтаксис</a></li>
          <li class=""><a href="#type-system" data-toggle="tab" aria-expanded="false">Мощная система типов</a></li>
        </ul>
        <div id="myTabContent" class="tab-content">
          <div class="tab-pane fade active in" id="simple-code">
            <pre class="margin-top managed-code-block"><code class="fsharp code-holder">[&#60;EntryPoint&#62;]
let main argv =
    printfn "%A" argv
    0
            </code></pre>
          </div>
          <div class="tab-pane fade" id="concise-syntax">
            <pre class="margin-top managed-code-block"><code class="fsharp code-holder">let rec fib n a b = match n with
    | 0 -> a
    | 1 -> b
    | _ -> fib (n - 1) b (a + b)
            </code></pre>
          </div>
          <div class="tab-pane fade" id="type-system">
            <pre class="margin-top managed-code-block"><code class="fsharp code-holder">type ContactInfo =
    | EmailOnly of EmailInfo
    | PostOnly of PostInfo
    | EmailPost of EmailInfo * PostInfo
            </code></pre>
          </div>
        </div>
      </div>
    </div>
    <div class="dark-background">
      <div class="container content-width">
        <h1 class="light margin-top">
          Почему F#?
          <small>
            Несколько причин попробовать этот язык.
          </small>
        </h1>
        <div class="row margin-top margin-bottom">
          <div class="col-sm-3 text-center">
            <div class="panel panel-default">
              <div class="panel-body">
                <i class="fa fa-desktop icon-image" aria-hidden="true"></i>
              </div>
              <div class="panel-footer text-left">
                <p class="b">Кросплатформенность</p>
                F# работает на Linux, OS X, iOS, Windows, Android, а также в браузерах.
              </div>
            </div>
          </div>
          <div class="col-sm-3 text-center">
            <div class="panel panel-default">
              <div class="panel-body">
                <i class="fa fa-code-fork icon-image" aria-hidden="true"></i>
              </div>
              <div class="panel-footer text-left">
                <p class="b">Открытость</p>
                F# является бесплатным проектом с открытым исходным кодом.
              </div>
            </div>
          </div>
          <div class="col-sm-3 text-center">
            <div class="panel panel-default">
              <div class="panel-body">
                <i class="fa fa-gears icon-image" aria-hidden="true"></i>
              </div>
              <div class="panel-footer text-left">
                <p class="b">Активная разработка</p>
                F# активно поддерживают как разработчики, так и большие корпорации.
              </div>
            </div>
          </div>
          <div class="col-sm-3 text-center">
            <div class="panel panel-default">
              <div class="panel-body">
                <i class="fa fa-code icon-image" aria-hidden="true"></i>
              </div>
              <div class="panel-footer text-left">
                <p class="b">Write less — do more</p>
                Выбери F# и в несколько раз увеличь свою производительность!
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>
      <div class="container content-width">
        <h1 class="margin-top margin-bottom">
          Попробуйте сами!
          <small>
            Скомпилируйте свой первый F# скрипт онлайн.
          </small>
        </h1>
        <div class="row">
          <div class="col-sm-7">
            <div id="monaco-container"></div>
            <a id="build-run-button" class="btn btn-info margin-top margin-bottom">
              Собрать и запустить
            </a>
          </div>
          <div class="col-sm-5">
            <p>
              <b>
                ВЫВОД:
              </b>
              <div class="margin-bottom">
                <div id="run-status-box" class="code-box"></div>
                <div id="run-warnings-box" class="code-box warning"></div>
                <div id="run-errors-box" class="code-box error"></div>
                <code id="run-result-box"></code>
              </div>
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="light dark-background">
      <div class="container content-width">
        <h1 class="margin-bottom">
          Обучающие видео
          <small>
            Уроки, которые помогут вам научиться F#!
          </small>
        </h1>
        <div class="row text-center">
          <div class="col-sm-4">
            <iframe class="margin-bottom" height="220" src="https://www.youtube.com/embed/Teak30_pXHk?ecver=1" frameborder="0" allowfullscreen></iframe>
          </div>
          <div class="col-sm-4">
            <iframe class="margin-bottom" height="220" src="https://www.youtube.com/embed/hsTmLhnzRhE?ecver=1" frameborder="0" allowfullscreen></iframe>
          </div>
          <div class="col-sm-4">
            <iframe class="margin-bottom" height="220" src="https://www.youtube.com/embed/PFWYwr7Hhhg?ecver=1" frameborder="0" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
    <div class="light dark-background">
      <div class="container content-width">
        &nbsp;
      </div>
    </div>
    <script type="text/javascript">
      (function($) {

        // Init highlight.JS for syntax highlighting
        hljs.initHighlightingOnLoad();

        // Get links to needed elements
        const monacoContainer = $('#monaco-container');
        const runButton = $("#build-run-button");
        const statusBox = $('#run-status-box');
        const warningsBox = $('#run-warnings-box');
        const errorsBox = $('#run-errors-box');
        const resultBox = $("#run-result-box");

        // Set initial content of Monaco editor
        const initialCodeContent =
`// Точка входа приложения, эквивалент main()
[<EntryPoint>]
let main argv =
    printfn "%A" argv
    System.Console.WriteLine("Привет, мир F#")
    0 // возвращает код завершения приложения\n\n\n
        `;

        // Launch Monaco online editor
        require.config({ paths: { 'vs': 'monaco/min/vs' }});
        require(['vs/editor/editor.main'], function() {
          window.editor = monaco.editor.create(monacoContainer[0], {
            value: initialCodeContent,
            theme: 'vs',
            language: 'fsharp'
          });
        });

        // Register events
        runButton.click(function() {
          const enterErrorState = () => {
            statusBox.text('ⓧ Ошибка').removeClass('success').removeClass('warning').addClass('error');
          };
          const enterWarningState = () => {
            statusBox.text('⚠ Предупреждение') .removeClass('success').addClass('warning').removeClass('error');
          };
          const enterSuccessState = () => {
            statusBox.text('✔ Успех').addClass('success').removeClass('warning').removeClass('error');
          };

          const program = window.editor.getValue();
          const url = 'http://rextester.com/rundotnet/api';
          const fsharp = 3; // in rextester encoding
          const params = {
            LanguageChoice: fsharp,
            Program: program
          };

          runButton.addClass('disabled');
          $.ajax({
            type: 'POST',
            url,
            data: params
          }).done(({Warnings, Errors, Result}) => {
            warningsBox.text(Warnings);
            errorsBox.text(Errors);
            resultBox.text(Result);
            if (Errors) {
              enterErrorState();
            } else if (Warnings) {
              enterWarningState();
            } else {
              enterSuccessState();
            }
          }).fail(() => {
            warningsBox.clear();
            errorsBox.text('ⓧ Сетевая ошибка. Пожалуйста, повторите запрос.');
            enterErrorState();
          }).always(() => {
            runButton.removeClass('disabled');
          });
        });

      })($);
    </script>
  </body>
</html>